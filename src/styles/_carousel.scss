// src/styles/_carousel.scss
@use "./tokens" as *;
@use "./mixins" as *;

// ========================================
// Global Carousel Styling
// Used primarily inside cat-detail, but reusable anywhere
// BEM-neutral so it can work with future components too
// ========================================

.carousel--rounded {
  @include rounded-card;
  overflow: hidden;
}

/* Maintain consistent 4:3 aspect ratio */
.carousel--media .carousel-item {
  aspect-ratio: 4 / 3;
}

.carousel--media .carousel-item img,
.carousel--media .carousel-item .media-wrapper {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Carousel controls */
.carousel--media .carousel-control-prev,
.carousel--media .carousel-control-next {
  background-color: rgba(0, 0, 0, 0.2);
  width: 48px;
  height: 48px;
  top: 50%;
  transform: translateY(-50%);
  border-radius: 50%;
}

/* Nudge the circles away from the edges */
.carousel--media .carousel-control-prev {
  left: 0.75rem;
}

.carousel--media .carousel-control-next {
  right: 0.75rem;
}

/* Make the arrow icons slightly smaller inside the circle */
.carousel--media .carousel-control-prev-icon,
.carousel--media .carousel-control-next-icon {
  width: 1.2rem;
  height: 1.2rem;
  background-size: 1.2rem 1.2rem;
}

/* Round inner images too */
.carousel--media .carousel-item img {
  @include rounded-card;
}

/* ========================================
   Mobile adjustments for carousel controls
   ======================================== */
@media (max-width: 575.98px) {
  .carousel--media .carousel-control-prev,
  .carousel--media .carousel-control-next {
    width: 34px;
    height: 34px;
  }

  .carousel--media .carousel-control-prev-icon,
  .carousel--media .carousel-control-next-icon {
    width: 0.9rem;
    height: 0.9rem;
    background-size: 0.9rem 0.9rem;
  }

  /* Slightly reduce side offsets so they don't hug the screen edge */
  .carousel--media .carousel-control-prev {
    left: 0.5rem;
  }

  .carousel--media .carousel-control-next {
    right: 0.5rem;
  }
}

/* Maintain consistent 4:3 aspect ratio */
.carousel--media .carousel-item {
  aspect-ratio: 4 / 3;
}

.carousel--media .carousel-item img,
.carousel--media .carousel-item iframe {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Wrapper for video to keep rounding / overflow tidy */
.carousel--media .carousel-item .media-wrapper {
  width: 100%;
  height: 100%;
  @include rounded-card;
  overflow: hidden;
}

.carousel--media .carousel-item iframe {
  border: 0;
}
